{"version":3,"sources":["webpack:///D:/合拍/navigation/pages/articleInfo/components/Comment/components/CommentItem.vue?d221","webpack:///D:/合拍/navigation/pages/articleInfo/components/Comment/components/CommentItem.vue?e488","webpack:///D:/合拍/navigation/pages/articleInfo/components/Comment/components/CommentItem.vue?c5a5","webpack:///D:/合拍/navigation/pages/articleInfo/components/Comment/components/CommentItem.vue?0922","uni-app:///pages/articleInfo/components/Comment/components/CommentItem.vue","webpack:///D:/合拍/navigation/pages/articleInfo/components/Comment/components/CommentItem.vue?99f0","webpack:///D:/合拍/navigation/pages/articleInfo/components/Comment/components/CommentItem.vue?b796"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AAC4K;AAC5K,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAqpB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+GzqB;AACA,qBADA;AAEA;AACA;AACA,kBADA;AAEA,qCAFA;AAGA,oBAHA,EADA;;AAMA;AACA,4BADA;AAEA,oBAFA,EANA;;AAUA;AACA,kBADA;AAEA,qCAFA,EAVA;;AAcA;AACA,kBADA;AAEA,qCAFA,EAdA,EAFA;;;AAqBA;AACA,gBADA,0BACA;AACA;AACA,KAHA,EArBA;;AA0BA;AACA,cADA,sBACA,IADA,EACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAxBA,EA1BA,E;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAA4vC,CAAgB,4nCAAG,EAAC,C;;;;;;;;;;;ACAhxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/articleInfo/components/Comment/components/CommentItem.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./CommentItem.vue?vue&type=template&id=49a176a4&scoped=true&\"\nvar renderjs\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&id=49a176a4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49a176a4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/articleInfo/components/Comment/components/CommentItem.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CommentItem.vue?vue&type=template&id=49a176a4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.formatTime(_vm.comment.createAt, true)\n  var m1 = _vm.formatTime(_vm.comment.createAt)\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function(e) {\n      return e.target.classList.add(\"error\")\n    }\n\n    _vm.e1 = function(e) {\n      return e.target.classList.add(\"error\")\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1\n      }\n    }\n  )\n\n  if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n    _vm.$setScopedSlotsParams(\"default\", {\n      id: _vm.id\n    })\n    _vm.$setScopedSlotsParams(\"subList\", {\n      parentId: _vm.id\n    })\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CommentItem.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"comment-item\" :class=\"{ 'sub-comment-item': isSubComment }\">\n    <view class=\"comment\">\n      <!-- 评论或回复人头像 -->\n      <img\n        class=\"avatar\"\n        :src=\"comment.user.avatar || ''\"\n        @error=\"(e) => e.target.classList.add('error')\"\n      >\n      <view class=\"content-box\">\n        <!-- 评论或回复人具体信息 -->\n        <view class=\"meta-box\">\n          <slot name=\"userMeta\">\n            <view class=\"user-popover-box\">\n              <span v-if=\"comment.user\">{{ comment.user.name + (comment.user.author === true ? '（作者）' : '') }}</span>\n            </view>\n          </slot>\n        </view>\n\n        <!-- 评论或回复内容 -->\n        <view class=\"content\">\n          <span\n            v-if=\"comment.reply\"\n            class=\"reply\"\n          >回复\n            <span class=\"reply-target\" :title=\"comment.reply.email\">{{\n              comment.reply.name + '：'\n            }}</span>\n          </span>\n          {{ comment.content }}\n          <view v-if=\"comment.imgSrc\" class=\"img-box\">\n            <img\n              :src=\"comment.imgSrc || ''\"\n              @error=\"(e) => e.target.classList.add('error')\"\n            >\n          </view>\n        </view>\n\n        <!-- 评论或回复时间及操作 -->\n        <view class=\"reply-stat\">\n          <time\n            :title=\"formatTime(comment.createAt, true)\"\n            :datetime=\"comment.createAt\"\n          >{{ formatTime(comment.createAt) }}</time>\n          <view\n            v-if=\"user.author === true\"\n            class=\"delete\"\n            @click.stop=\"$emit('comment-delete', { id, comment, parent })\"\n          >\n            <span>·</span>删除\n          </view>\n          <view class=\"action-box\">\n            <view\n              class=\"like-action action\"\n              :class=\"{ active: comment._liked }\"\n              @click.stop=\"$emit('comment-like', { id, comment })\"\n            >\n              <svg\n                aria-hidden=\"true\"\n                viewBox=\"0 0 20 20\"\n                class=\"icon like-icon\"\n              >\n                <g fill=\"none\" fill-rule=\"evenodd\">\n                  <path d=\"M0 0h20v20H0z\" />\n                  <path\n                    :stroke=\"comment._liked ? '#37C700' : '#8A93A0'\"\n                    stroke-linejoin=\"round\"\n                    :fill=\"comment._liked ? '#37c700' : 'none'\"\n                    d=\"M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z\"\n                  />\n                </g>\n              </svg>\n              <span v-show=\"comment.likes\" class=\"action-title\">{{\n                comment.likes\n              }}</span>\n            </view>\n            <view\n              class=\"comment-action action\"\n              @mousedown.prevent=\"$emit('comment-reply', id)\"\n              @click.prevent\n            >\n              <svg\n                aria-hidden=\"true\"\n                viewBox=\"0 0 20 20\"\n                class=\"icon comment-icon\"\n              >\n                <g fill=\"none\" fill-rule=\"evenodd\">\n                  <path d=\"M0 0h20v20H0z\" />\n                  <path\n                    stroke=\"#8A93A0\"\n                    stroke-linejoin=\"round\"\n                    d=\"M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z\"\n                  />\n                </g>\n              </svg>\n              <span class=\"action-title\">回复</span>\n            </view>\n          </view>\n        </view>\n\n        <!-- 评论表单组件 -->\n        <slot :id=\"id\" />\n\n        <!-- 回复列表 -->\n        <slot name=\"subList\" :parentId=\"id\" />\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  name: 'CommentItem',\n  props: {\n    comment: {\n      type: Object,\n      default: () => {},\n      required: true\n    },\n    id: {\n      type: [String, Number],\n      required: true\n    },\n    parent: {\n      type: Object,\n      default: () => {}\n    },\n    user: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  computed: {\n    isSubComment() {\n      return this.id.split('-').length === 3\n    }\n  },\n  methods: {\n    formatTime(time, local = false) {\n      const d = new Date(time)\n\n      if (local) {\n        return d.toString()\n      }\n\n      const now = Date.now()\n      const diff = (now - d) / 1000\n\n      if (diff < 30) {\n        return '刚刚'\n      } else if (diff < 3600) {\n        return Math.ceil(diff / 60) + '分钟前'\n      } else if (diff < 3600 * 24) {\n        return Math.ceil(diff / 3600) + '小时前'\n      } else if (diff < 3600 * 24 * 30) {\n        return Math.floor(diff / 3600 / 24) + '天前'\n      } else if (diff < 3600 * 24 * 365) {\n        return Math.floor(diff / 3600 / 24 / 30) + '月前'\n      } else {\n        return Math.floor(diff / 3600 / 24 / 365) + '年前'\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-item {\n  &:not(:last-child) {\n    .content-box {\n      border-bottom: 1px solid #f1f1f1;\n    }\n  }\n  &:hover {\n    .comment .reply-stat .delete {\n      visibility: visible;\n    }\n  }\n  .comment {\n    display: flex;\n    padding: 20px;\n    .content-box {\n      margin-left: 0.6664rem;\n      flex: 1 1 auto;\n      &.focus {\n        padding-bottom: 0.4rem;\n      }\n      .meta-box {\n        display: flex;\n        align-items: center;\n        font-size: 0.8664rem;\n        line-height: 1.25;\n        white-space: nowrap;\n        .user-popover-box {\n          cursor: pointer;\n        }\n      }\n      .content {\n        margin-top: 0.44rem;\n        font-size: 0.8664rem;\n        line-height: 1.4664rem;\n        white-space: pre-line;\n        word-break: break-all;\n        color: #505050;\n        overflow: hidden;\n        .img-box {\n          margin-top: 0.5rem;\n          img {\n            max-width: 100%;\n            max-height: 20rem;\n            object-fit: cover;\n          }\n        }\n        .reply {\n          vertical-align: top;\n        }\n        .reply-target {\n          cursor: pointer;\n          color: #406599;\n        }\n      }\n    }\n    .reply-stat {\n      display: flex;\n      margin-top: 7px;\n      font-weight: 400;\n      time,\n      .delete {\n        font-size: 0.8664rem;\n        color: #8a9aa9;\n      }\n      .delete {\n        visibility: hidden;\n        cursor: pointer;\n        span {\n          margin: 0 0.2rem;\n        }\n      }\n      .action-box {\n        flex: 0 0 auto;\n        display: flex;\n        justify-content: space-between;\n        margin-left: auto;\n        min-width: 7.04rem;\n        color: #8a93a0;\n        user-select: none;\n        .action {\n          display: flex;\n          align-items: center;\n          margin-left: 0.4rem;\n          cursor: pointer;\n          &:hover {\n            opacity: 0.8;\n          }\n          &.active {\n            color: #37c700;\n          }\n          .icon {\n            min-width: 16.5px;\n            min-height: 16.5px;\n            width: 0.8rem;\n            height: 0.8rem;\n          }\n          .action-title {\n            margin-left: 0.2rem;\n            font-size: 0.8rem;\n          }\n        }\n      }\n    }\n  }\n}\n\n.sub-comment-list {\n  margin: 0.8rem 0;\n  padding: 0 0 0 0.8rem;\n  background-color: #fafbfc;\n  border-radius: 3px;\n  .comment-item {\n    margin-bottom: 0;\n    &:last-child .content-box {\n      border-bottom: none;\n    }\n    .comment {\n      position: relative;\n      padding: 0.8rem 0 0;\n\n      .content-box {\n        margin-right: 0.8rem;\n        padding-bottom: 0.8rem;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CommentItem.vue?vue&type=style&index=0&id=49a176a4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CommentItem.vue?vue&type=style&index=0&id=49a176a4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641297576820\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}