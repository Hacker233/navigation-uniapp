{"version":3,"sources":["webpack:///D:/合拍/navigation-uniapp/components/hb-comment/hb-comment.vue?0d6a","webpack:///D:/合拍/navigation-uniapp/components/hb-comment/hb-comment.vue?3eb2","webpack:///D:/合拍/navigation-uniapp/components/hb-comment/hb-comment.vue?28c3","webpack:///D:/合拍/navigation-uniapp/components/hb-comment/hb-comment.vue?4fa9","uni-app:///components/hb-comment/hb-comment.vue","webpack:///D:/合拍/navigation-uniapp/components/hb-comment/hb-comment.vue?e482","webpack:///D:/合拍/navigation-uniapp/components/hb-comment/hb-comment.vue?10f2"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAumB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyI3nB,8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAGA,EACA,kBADA,EAEA,SACA,UACA,YADA,EAEA,8BACA,YACA,CAJA,EADA,EAOA,aACA,YADA,EAEA,8BACA,qCACA,CAJA,EAPA,EAFA,EAgBA,SACA,UACA,2CACA,kBACA,CAHA,EAIA,eAJA,EADA,EAhBA,EAwBA,IAxBA,kBAwBA,CACA,SACA,ulDADA,EAEA,mBAFA,EAGA,sBAHA,EAIA,gBACA,WADA,EACA;AACA,uBAFA,CAEA;AAFA,OAJA,EAQA,aARA,EAQA;AACA,sBATA,EASA;AACA,oBAVA,EAUA;AACA,qBAXA,EAWA;AACA,yBAZA,CAYA;AAZA,MAcA,CAvCA,EAwCA,8CACA,2CACA,kCACA,CAFA,EAGA,CA5CA,EA6CA,WACA;AACA,cAFA,sBAEA,IAFA,EAEA,CACA,sDACA,kCACA,CALA,EAMA;AACA,QAPA,gBAOA,MAPA,EAOA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,gCACA,CAfA,EAgBA;AACA,eAjBA,yBAiBA,EAjBA,EAkBA;AACA,SAnBA,iBAmBA,KAnBA,EAmBA,MAnBA,EAmBA,GAnBA,EAmBA,CACA,mBACA,0BACA,aACA,6CACA,CAFA,MAEA,CACA,6BACA,CACA,oBACA,oBACA,CA7BA,EA8BA;AACA,iBA/BA,yBA+BA,SA/BA,EA+BA,CACA,gBACA,gBACA,WADA,EAEA,uBAFA,EAGA,mBAHA,EAIA,gCACA,kBACA,6BACA,CACA,CARA,IAUA,CA3CA,EA4CA;AACA,OA7CA,iBA6CA,CACA,4EACA,gBACA,eADA,EAEA,cAFA,IAIA,OACA,CACA,mCACA,CAtDA,EAuDA;AACA,QAxDA,gBAwDA,SAxDA,EAwDA,CACA,8BACA,CA1DA,EA2DA;AACA,eA5DA,yBA4DA,CACA,+BACA,gBACA,kBACA,CAhEA,EAiEA;AACA,gBAlEA,wBAkEA,SAlEA,EAkEA,CACA,yCACA,kDACA,+FACA,OADA,CACA,CADA,EACA,OADA,GAEA,2EACA,OACA,CACA,qDACA,8DACA,0FACA,OADA,KACA,iDADA,CAEA,2FACA,OADA,CAEA,OACA,CACA,CACA,CACA,CApFA,EAqFA;AACA,kBAtFA,0BAsFA,SAtFA,EAsFA,CACA,yCACA,qDACA,8DACA,0DACA,OACA,CACA,CACA,kDACA,8CACA,OACA,CACA,CACA,CAnGA,EAoGA;AACA,YArGA,oBAqGA,SArGA,EAqGA,CACA,yCACA,kDACA,mFACA,oBACA,OACA,CACA,qDACA,8DACA,+FACA,WADA,CAEA;AACA;AACA;AACA;AACA;AACA,KArHA;AAsHA;AACA,QAvHA,kBAuHA;AACA;AACA,KAzHA;AA0HA;AACA,WA3HA,qBA2HA;AACA;AACA,KA7HA;AA8HA;AACA,YA/HA,sBA+HA;AACA;AACA;AACA;AACA,KAnIA;AAoIA;AACA,gBArIA,0BAqIA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA,KA3IA;AA4IA;AACA,cA7IA,wBA6IA;AACA;AACA;AACA,KAhJA,EA7CA,E;;;;;;;;;;;;;AC5IA;AAAA;AAAA;AAAA;AAA0qC,CAAgB,2nCAAG,EAAC,C;;;;;;;;;;;ACA9rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/hb-comment/hb-comment.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hb-comment.vue?vue&type=template&id=00a4b778&scoped=true&\"\nvar renderjs\nimport script from \"./hb-comment.vue?vue&type=script&lang=js&\"\nexport * from \"./hb-comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hb-comment.vue?vue&type=style&index=0&id=00a4b778&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00a4b778\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/hb-comment/hb-comment.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hb-comment.vue?vue&type=template&id=00a4b778&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 =\n    _vm.commentData.comment.length != 0\n      ? _vm.__map(_vm.commentData.comment, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var g0 = item.content.length > 60 ? item.content.slice(0, 59) : null\n          var g1 =\n            item.content.length > 60 && item.hasShowMore\n              ? item.content.slice(59)\n              : null\n          var m0 = _vm.formatTime(item.createTime)\n\n          var l0 = _vm.__map(item.children, function(each, __i0__) {\n            var $orig = _vm.__get_orig(each)\n\n            var g2 = each.content.length > 60 ? each.content.slice(0, 59) : null\n            var g3 =\n              each.content.length > 60 && each.hasShowMore\n                ? each.content.slice(59)\n                : null\n            var m1 = _vm.formatTime(each.createTime)\n            return {\n              $orig: $orig,\n              g2: g2,\n              g3: g3,\n              m1: m1\n            }\n          })\n\n          return {\n            $orig: $orig,\n            g0: g0,\n            g1: g1,\n            m0: m0,\n            l0: l0\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hb-comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hb-comment.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"hb-comment\">\r\n\t\t<!-- 阅读数-start -->\r\n\t\t<view class=\"comment-nums-top\">\r\n\t\t\t<i class=\"iconfont pig-liulan\"></i>\r\n\t\t\t<text class=\"top-read\">{{commentData.readNumer}}</text>\r\n\t\t</view>\r\n\t\t<!-- 阅读数-end -->\r\n\t\t<!-- 阅读数下边那条线-start -->\r\n\t\t<view class=\"seg_line_box\">\r\n\t\t\t<view class=\"seg_line\"></view>\r\n\t\t\t<view class=\"seg_dot\"></view>\r\n\t\t\t<view class=\"seg_line\"></view>\r\n\t\t</view>\r\n\t\t<!-- 阅读数下边那条线-end -->\r\n\t\t<!-- 评论主体-start -->\r\n\t\t<view class=\"comment-list\" v-if=\"commentData.comment.length != 0\">\r\n\t\t\t<!-- 评论主体-顶部数量及发表评论按钮-start -->\r\n\t\t\t<view class=\"comment-num\">\r\n\t\t\t\t<view>共 {{commentData.commentSize}} 条评论</view>\r\n\t\t\t\t<view class=\"add-btn\">\r\n\t\t\t\t\t<button type=\"primary\" size=\"mini\" @click=\"commentInput\">发表评论</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 评论主体-顶部数量及发表评论按钮-end -->\r\n\t\t\t<!-- 评论列表-start -->\r\n\t\t\t<view class=\"comment-box\" v-for=\"(item, index) in commentData.comment\" :key=\"index\">\r\n\t\t\t\t<view class=\"comment-box-item\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<image :src=\"item.avatarUrl || emptyAvatar\" mode=\"aspectFill\" class=\"avatar\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"comment-main\">\r\n\t\t\t\t\t\t<!-- 父评论体-start -->\r\n\t\t\t\t\t\t<view class=\"comment-main-top\">\r\n\t\t\t\t\t\t\t<view class=\"nick-name-box\">\r\n\t\t\t\t\t\t\t\t<view class=\"comLogo com1\" v-if=\"index == 0\">沙发</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comLogo com2\" v-if=\"index == 1\">板凳</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comLogo com3\" v-if=\"index == 2\">地板</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comLogo com4\" v-if=\"index > 2\">{{index + 1}}楼</view>\r\n\t\t\t\t\t\t\t\t<view class=\"nick-name\">{{item.nickName}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"zan-box\" @click=\"like(item.id)\">\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t:class=\"item.hasLike ? 'isLike' : 'notLike'\">{{item.likeNum == 0 ? '抢首赞' : item.likeNum}}</span>\r\n\t\t\t\t\t\t\t\t<i v-if=\"!item.hasLike\" class=\"iconfont pig-changyong_dianzan\"></i>\r\n\t\t\t\t\t\t\t\t<i v-else class=\"iconfont pig-changyong_dianzan like-active\"></i>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"comment-main-content\">\r\n\t\t\t\t\t\t\t{{item.content.length > 60 ? item.content.slice(0, 59) : item.content}}\r\n\t\t\t\t\t\t\t<span v-if=\"item.content.length > 60\">\r\n\t\t\t\t\t\t\t\t{{item.hasShowMore ? item.content.slice(59) : '...'}}\r\n\t\t\t\t\t\t\t\t<span class=\"foot-btn\" @click=\"showMore(item.id)\">\r\n\t\t\t\t\t\t\t\t\t{{item.hasShowMore ? '收起' : '展开'}}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"comment-main-foot\">\r\n\t\t\t\t\t\t\t<view class=\"foot-time\">{{formatTime(item.createTime)}}</view>\r\n\t\t\t\t\t\t\t<view class=\"foot-btn\" @click=\"reply(item.nickName,item.nickName,item.id)\">回复</view>\r\n\t\t\t\t\t\t\t<view class=\"foot-btn\" v-if=\"item.owner\" @click=\"confirmDelete(item.id)\">删除</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 父评论体-end -->\r\n\t\t\t\t\t\t<!-- 子评论列表-start -->\r\n\t\t\t\t\t\t<view class=\"comment-sub-box\">\r\n\t\t\t\t\t\t\t<view class=\"comment-sub-item\" v-for=\"each in item.children\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<image :src=\"each.avatarUrl || emptyAvatar\" mode=\"aspectFill\" class=\"avatar\">\r\n\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comment-main\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"sub-comment-main-top\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"nick-name\">{{each.nickName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"zan-box\" @click=\"like(each.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t:class=\"each.hasLike ? 'isLike' : 'notLike'\">{{each.likeNum == 0 ? '抢首赞' : each.likeNum}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<i v-if=\"!each.hasLike\" class=\"iconfont pig-changyong_dianzan\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t<i v-else class=\"iconfont pig-changyong_dianzan like-active\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"comment-main-content\">\r\n\t\t\t\t\t\t\t\t\t\t{{each.content.length > 60 ? each.content.slice(0, 59) : each.content}}\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"each.content.length > 60\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{each.hasShowMore ? each.content.slice(59) : '...'}}\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"foot-btn\" @click=\"showMore(each.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{each.hasShowMore ? '收起' : '展开'}}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"comment-main-foot\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"foot-time\">{{formatTime(each.createTime)}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"foot-btn\" @click=\"reply(item.nickName,each.nickName,item.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t回复</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"foot-btn\" v-if=\"each.owner\" @click=\"confirmDelete(each.id)\">删除\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 子评论列表-end -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 评论列表-end -->\r\n\t\t</view>\r\n\t\t<!-- 评论主体-end -->\r\n\t\t<!-- 无评论-start -->\r\n\t\t<view class=\"comment-none\" v-else>\r\n\t\t\t暂无评论，<span @click=\"commentInput\" style=\"color: #007AFF;\">抢沙发</span>\r\n\t\t</view>\r\n\t\t<!-- 无评论-end -->\r\n\t\t<!-- 新增评论-start -->\r\n\t\t<view class=\"comment-submit-box\" v-if=\"submit\" @click=\"closeInput\">\r\n\t\t\t<!-- 下边的click.stop.prevent用于让上边的click不传下去，以防点到下边的空白处触发closeInput方法 -->\r\n\t\t\t<view class=\"comment-add\" @click.stop.prevent=\"stopPrevent\" :style=\"'bottom:' + KeyboardHeight + 'px'\">\r\n\t\t\t\t<view class=\"comment-submit\">\r\n\t\t\t\t\t<view class=\"btn-click cancel\" @click=\"closeInput\">取消</view>\r\n\t\t\t\t\t<!-- <view>\r\n\t\t\t\t\t\t<view class=\"replayTag\" v-show=\"showTag\">\r\n\t\t\t\t\t\t\t<view>回复在 {{pUser}} 的评论下</view>\r\n\t\t\t\t\t\t\t<view @click=\"tagClose\" class=\"replyTagClose\">×</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"btn-click\" @click=\"add\">发布</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<textarea class=\"textarea\" v-model=\"commentReq.content\" :placeholder=\"placeholder\"\r\n\t\t\t\t\t:adjust-position=\"false\" :show-confirm-bar=\"false\" @blur=\"blur\" @focus=\"focusOn\" :focus=\"focus\"\r\n\t\t\t\t\tmaxlength=\"800\"></textarea>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 新增评论-end -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tshowtime\r\n\t} from \"@/utils/index.js\"\r\n\texport default {\r\n\t\tname: 'hb-comment',\r\n\t\tprops: {\r\n\t\t\tcmData: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteTip: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn '操作不可逆，如果评论下有子评论，也将被一并删除，确认？';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcmData: {\r\n\t\t\t\thandler: function(newVal, oldVal) {\r\n\t\t\t\t\tthis.init(newVal);\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t\"emptyAvatar\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABF5JREFUWEfFl11oHFUUx//nbmKwxdJ9qFL7YPEhRJC2gljjF60WG0WsoNkWfSnZ7Jy7FVPF0AoKpmBFqyIG3Jk7G1iIQXHbBz+KbbGtRfBbMe2LseKjiVDoiqIhwZ0jV3fb3cnM7kQCuU+7M+ec/+9+nHPPEJZ50DLrY1EApVJp9fz8/BYRuZ2INgDYWJvAWRE5R0RnZmZmPh4ZGZlPOrFEAMVi8e4gCPYSUZ+IXGGFgiCYIaJpKyQi1yql1orIFgAXARxRSvm5XO67diBtAYwxRQCDAE4RUUkpdWxwcNCKLBiu665TSj0kIpqIbgTgMzO3gmgJYIz5CMB9AIaZ+bXGQMVi8RoRuZeI/lZKHc1ms3/U34+Pj6+cnZ3dC+AggGPMfH8cRCyAMUZqThlmPlwPUCgU0qlUyq7Kww1BrbjHzPsahYwx/QDK9hkzR2pFPjTGnAWwIexkjOkRkRIR3Rozo5Miskdr/VMIxE7mHDPXD+2l1wsA6nseBMHmfD7/dSjQOwB2tTlYC/bddd1blFJfARhj5lyjfxNA7bSfitpz3/d3iYgFaDuUUjeHM8AY8zSAV5VS9+RyudP1IE0Axpj3Aaxk5m1hFc/zPiWiO9uq/2dwiJn3h22NMScB/MnMOxYAjI6Orurq6rpgU0hrXYpw/hFAd0KAD5n5wbCt7/t7ROT1ubm5NUNDQ7/b95dWwHXd7Uqp452dnVcPDAxciACwDlclAbAFynGcdRGr2EtEnwdB0JfP5080ARhjDhLRbY7jbI0SMcZUAKxOAgDgN2ZOx8SxGfEiMz/bBOD7/lgQBCu01o/GOH4PYFNCgElmvinK1vf9X2xxchzHVtfLW2CMOQpgipmHYwBeBtBUaOJgRKSgtX48Js63AH5l5geaADzPe1cpddFxnHyM42YAXyZYAXt+epn557iVFJHzWuudYYDnlFJ9juPcESfi+35JRHa3gdjPzIfibIwxNtPe0Fq/EAZ4hIhcZl4T5+y67nql1CcA1kfZENFnrSZQ6ycqItKvtT4SBthIRJMdHR092WzW5nzk8H1/WEReiQHY4TjOB3G+nuf9qyEim7TW9r65fAjL5fKVlUrlPICXmPnNFquwWym1oFBZ+yAItubz+TMtAJ4gon3pdLo7k8nMNgHYP7ZeE5EWkbuYeaYx0NjY2HXValUDeApAV4zIJIADzPxe+H2hULg+lUp9U6sBl3qLprugXC6nKpXKF0R02nGcZ2wQ3/e3ichOEckQ0aoEWQDbsgF4a3p6eqLeH3qeN0FE3el0ujeTyVTrcaKuY1uIjIg8CaCfiLYnEW1hY4WPi8gEgMeY+e1G27iGxHYxtptZynGYmTPhgK1asqWEiBRfcAjDdMaYpYCIFW8LUMuM54nIsb3/YvbDXskiYtuzA6382n4X1CDWAnCSgNSFa98ETakcWbwWMytjzAoAPUEQ3JBKpXrs75r/VLVanVJK/VC7Uf9KGjfRCiQN9n/slh3gHz9i4jC+FVL5AAAAAElFTkSuQmCC\",\r\n\t\t\t\t\"commentData\": null,\r\n\t\t\t\t\"placeholder\": \"请输入评论\",\r\n\t\t\t\t\"commentReq\": {\r\n\t\t\t\t\t\"pId\": null, // 评论父id\r\n\t\t\t\t\t\"content\": null // 评论内容\r\n\t\t\t\t},\r\n\t\t\t\t\"pUser\": null, // 标签-回复人\r\n\t\t\t\t\"showTag\": false, // 标签展示与否\r\n\t\t\t\t\"focus\": false, // 输入框自动聚焦\r\n\t\t\t\t\"submit\": false, // 弹出评论\r\n\t\t\t\t\"KeyboardHeight\": 0 // 键盘高度\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tuni.onKeyboardHeightChange(res => {\r\n\t\t\t\tthis.KeyboardHeight = res.height;\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 格式化时间\r\n\t\t\tformatTime(time) {\r\n\t\t\t\tconsole.log(\"tiem\", time, showtime(time))\r\n\t\t\t\treturn showtime(time)\r\n\t\t\t},\r\n\t\t\t// 初始化评论\r\n\t\t\tinit(cmData) {\r\n\t\t\t\t// for (var i in cmData.comment) {\r\n\t\t\t\t// \tcmData.comment[i].hasShowMore = false;\r\n\t\t\t\t// \tfor (var j in cmData.comment[i].children) {\r\n\t\t\t\t// \t\tcmData.comment[i].children[j].hasShowMore = false;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\tthis.commentData = cmData;\r\n\t\t\t},\r\n\t\t\t// 没用的方法，但不要删\r\n\t\t\tstopPrevent() {},\r\n\t\t\t// 回复评论\r\n\t\t\treply(pUser, reUser, pId) {\r\n\t\t\t\tthis.pUser = pUser;\r\n\t\t\t\tthis.commentReq.pId = pId;\r\n\t\t\t\tif (reUser) {\r\n\t\t\t\t\tthis.commentReq.content = '@' + reUser + ' ';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.commentReq.content = '';\r\n\t\t\t\t}\r\n\t\t\t\tthis.showTag = true;\r\n\t\t\t\tthis.commentInput();\r\n\t\t\t},\r\n\t\t\t// 删除评论前确认\r\n\t\t\tconfirmDelete(commentId) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '警告',\r\n\t\t\t\t\tcontent: that.deleteTip,\r\n\t\t\t\t\tconfirmText: '确认删除',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthat.$emit('del', commentId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 新增评论\r\n\t\t\tadd() {\r\n\t\t\t\tif (this.commentReq.content == null || this.commentReq.content.length < 2) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '评论内容过短',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('add', this.commentReq);\r\n\t\t\t},\r\n\t\t\t// 点赞评论\r\n\t\t\tlike(commentId) {\r\n\t\t\t\tthis.$emit('like', commentId);\r\n\t\t\t},\r\n\t\t\t// 新增完成\r\n\t\t\taddComplete() {\r\n\t\t\t\tthis.commentReq.content = null;\r\n\t\t\t\tthis.tagClose();\r\n\t\t\t\tthis.closeInput();\r\n\t\t\t},\r\n\t\t\t// 点赞完成-本地修改点赞结果\r\n\t\t\tlikeComplete(commentId) {\r\n\t\t\t\tfor (var i in this.commentData.comment) {\r\n\t\t\t\t\tif (this.commentData.comment[i].id == commentId) {\r\n\t\t\t\t\t\tthis.commentData.comment[i].hasLike ? this.commentData.comment[i].likeNum-- : this.commentData\r\n\t\t\t\t\t\t\t.comment[i].likeNum++;\r\n\t\t\t\t\t\tthis.commentData.comment[i].hasLike = !this.commentData.comment[i].hasLike;\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var j in this.commentData.comment[i].children) {\r\n\t\t\t\t\t\tif (this.commentData.comment[i].children[j].id == commentId) {\r\n\t\t\t\t\t\t\tthis.commentData.comment[i].children[j].hasLike ? this.commentData.comment[i].children[j]\r\n\t\t\t\t\t\t\t\t.likeNum-- : this.commentData.comment[i].children[j].likeNum++;\r\n\t\t\t\t\t\t\tthis.commentData.comment[i].children[j].hasLike = !this.commentData.comment[i].children[j]\r\n\t\t\t\t\t\t\t\t.hasLike;\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 删除完成-本地删除评论\r\n\t\t\tdeleteComplete(commentId) {\r\n\t\t\t\tfor (var i in this.commentData.comment) {\r\n\t\t\t\t\tfor (var j in this.commentData.comment[i].children) {\r\n\t\t\t\t\t\tif (this.commentData.comment[i].children[j].id == commentId) {\r\n\t\t\t\t\t\t\tthis.commentData.comment[i].children.splice(Number(j), 1);\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.commentData.comment[i].id == commentId) {\r\n\t\t\t\t\t\tthis.commentData.comment.splice(Number(i), 1);\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 展开评论\r\n\t\t\tshowMore(commentId) {\r\n\t\t\t\tfor (var i in this.commentData.comment) {\r\n\t\t\t\t\tif (this.commentData.comment[i].id == commentId) {\r\n\t\t\t\t\t\tthis.commentData.comment[i].hasShowMore = !this.commentData.comment[i].hasShowMore;\r\n\t\t\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var j in this.commentData.comment[i].children) {\r\n\t\t\t\t\t\tif (this.commentData.comment[i].children[j].id == commentId) {\r\n\t\t\t\t\t\t\tthis.commentData.comment[i].children[j].hasShowMore = !this.commentData.comment[i].children[j]\r\n\t\t\t\t\t\t\t\t.hasShowMore;\r\n\t\t\t\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 输入框失去焦点\r\n\t\t\tblur() {\r\n\t\t\t\tthis.focus = false;\r\n\t\t\t},\r\n\t\t\t// 输入框聚焦\r\n\t\t\tfocusOn() {\r\n\t\t\t\tthis.$emit('focusOn');\r\n\t\t\t},\r\n\t\t\t// 标签关闭\r\n\t\t\ttagClose() {\r\n\t\t\t\tthis.showTag = false;\r\n\t\t\t\tthis.pUser = null;\r\n\t\t\t\tthis.commentReq.pId = null;\r\n\t\t\t},\r\n\t\t\t// 输入评论\r\n\t\t\tcommentInput() {\r\n\t\t\t\t// TODO 调起键盘方法\r\n\t\t\t\tthis.submit = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.focus = true;\r\n\t\t\t\t}, 50)\r\n\t\t\t},\r\n\t\t\t// 关闭输入评论\r\n\t\t\tcloseInput() {\r\n\t\t\t\tthis.focus = false;\r\n\t\t\t\tthis.submit = false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.hb-comment {\r\n\t\tpadding: 10rpx;\r\n\r\n\t\t.comment-nums-top {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t}\r\n\r\n\t.top-read {\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding-left: 10rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.seg_line_box {\r\n\t\tdisplay: flex;\r\n\t\theight: 5rpx;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin: 5rpx 0;\r\n\t}\r\n\r\n\t.seg_line {\r\n\t\twidth: 45%;\r\n\t\tborder-bottom: 1rpx solid #e1e1e1;\r\n\t}\r\n\r\n\t.seg_dot {\r\n\t\twidth: 8%;\r\n\t\tborder-bottom: 5rpx dotted #dbdbdb;\r\n\t}\r\n\r\n\t.comment-num {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\r\n\t.comment-box {\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\r\n\t.comment-box-item {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.comment-main {\r\n\t\tpadding-left: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.comment-main-top {\r\n\t\tflex: 1;\r\n\t\tpadding-top: 6rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.sub-comment-main-top {\r\n\t\tpadding-top: 6rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 70rpx;\r\n\t\theight: 70rpx;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.nick-name-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.comLogo {\r\n\t\tmargin-right: 18rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tpadding: 5rpx 15rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\r\n\t.com1 {\r\n\t\tbackground-color: #d218b1;\r\n\t}\r\n\r\n\t.com2 {\r\n\t\tbackground-color: #f19c0b;\r\n\t}\r\n\r\n\t.com3 {\r\n\t\tbackground-color: #c8da85;\r\n\t}\r\n\r\n\t.com4 {\r\n\t\tbackground-color: #bfd0da;\r\n\t}\r\n\r\n\t.nick-name {\r\n\t\tcolor: #2d8cf0;\r\n\t}\r\n\r\n\t.isLike {\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding-right: 10rpx;\r\n\t\tcolor: #2d8cf0;\r\n\t}\r\n\r\n\t.notLike {\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding-right: 10rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.comment-main-content {\r\n\t\tpadding: 10rpx 10rpx 10rpx 0;\r\n\t}\r\n\r\n\t.comment-main-foot {\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\r\n\t.replayTag {\r\n\t\tcolor: #909399;\r\n\t\tmargin-bottom: 5px;\r\n\t\tborder: 1px solid #c8c9cc;\r\n\t\tbackground-color: #f4f4f5;\r\n\t\tborder-radius: 3px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tfont-size: 16rpx;\r\n\t\tpadding: 5px 10px;\r\n\t}\r\n\r\n\t.replyTagClose {\r\n\t\tfont-size: 20px;\r\n\t\tline-height: 12px;\r\n\t\tpadding: 0 0 2px 5px;\r\n\t}\r\n\r\n\t.foot-btn {\r\n\t\tpadding-left: 10rpx;\r\n\t\tcolor: #007AFF;\r\n\t}\r\n\r\n\t.comment-sub-box {\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\r\n\t.comment-sub-item {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.comment-none {\r\n\t\tpadding: 20rpx;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.comment-submit-box {\r\n\t\tposition: fixed;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tz-index: 9900;\r\n\t\tleft: 0;\r\n\t\ttop: var(--window-top);\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba($color: #000000, $alpha: 0.5);\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.comment-add {\r\n\t\tposition: fixed;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\twidth: 100%;\r\n\t\tpadding: 5rpx;\r\n\t\tborder: 1px solid #ddd;\r\n\t\ttransition: .3s;\r\n\t\t-webkit-transition: .3s;\r\n\t}\r\n\r\n\t.btn-click {\r\n\t\tcolor: #007AFF;\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\r\n\t.cancel {\r\n\t\tcolor: #606266;\r\n\t}\r\n\r\n\t.textarea {\r\n\t\theight: 100px;\r\n\t\tpadding: 16rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.comment-submit {\r\n\t\tpadding: 0 20rpx;\r\n\t\tborder-bottom: 1px dashed #ddd;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.like-active {\r\n\t\tcolor: $uni-color-primary;\r\n\t}\r\n\r\n\t.zan-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hb-comment.vue?vue&type=style&index=0&id=00a4b778&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hb-comment.vue?vue&type=style&index=0&id=00a4b778&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1642422444040\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}